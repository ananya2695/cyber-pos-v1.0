<!--
  Generated template for the PaymentPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Product Sale</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-row align="center">
    <ion-col width-50>
      <ion-card>
        <ion-card-content>
          <ion-item>
            <ion-label>ตรวจสอบ เลขที่ {{orders.order.id_order}}</ion-label>
          </ion-item>

          <!--table-->
          <ion-row>
            <ion-col width-25>
              <ion-label>โต๊ะ</ion-label>
              <ion-label>{{orders.order.name_table}}</ion-label>
            </ion-col>
            <ion-col width-50>
              <ion-label>ลูกค้า</ion-label>
              <ion-label>{{orders.order.id_cus}}</ion-label>
            </ion-col>
            <ion-col width-25>
              <ion-label>ผู้ใช้</ion-label>
              <ion-label>{{orders.order.user_name}}</ion-label>
            </ion-col>
          </ion-row>

          <!--order-->
          <ion-row>
            <ion-col width-25>
              <ion-item>
                <ion-label>&nbsp; รายการ</ion-label>
              </ion-item>
            </ion-col>

            <ion-col width-50>
              <ion-label>จำนวน</ion-label>
            </ion-col>

            <ion-col width-25>
              <ion-item style="text-align:right;">
                <ion-label>ราคา &nbsp; &nbsp;</ion-label>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-scroll scrollY="true" style="height:455px;">
            <ion-list>
              <ion-item-sliding *ngFor="let item of orders.order.list_order">
                <ion-item>
                  <ion-row>
                    <ion-col width-25 style="text-align:left; overflow: hidden; text-overflow: ellipsis;">
                      <label>{{item.namePro}}</label>
                    </ion-col>
                    <ion-col width-50 style="text-align:center;">
                      <label>{{item.piece}}</label>
                    </ion-col>
                    <ion-col width-25 style="text-align:right;">
                      <label>{{item.piece * item.price}}</label>
                    </ion-col>
                  </ion-row>
                </ion-item>

                <ion-item-options side="right">
                  <button Danger (click)="delOrder(item)"> Delete </button>
                </ion-item-options>
              </ion-item-sliding>
            </ion-list>
          </ion-scroll>
        </ion-card-content>
      </ion-card>
    </ion-col>

    <ion-col width-50>
      <ion-card>
        <ion-card-content>
          <ion-row>
            <ion-col width-50 align="left">
              <label>รวมทั้งหมด</label>
            </ion-col>
            <ion-col width-50 align="right">
              <label>{{orders.order.totalPrice}}</label>
            </ion-col>
          </ion-row>

          <ion-row style="margin-bottom:30px;">
            <ion-col width-33>
              <button block (click)="TablePage()">พักการขาย</button>
            </ion-col>

            <ion-col width-33>
              <button block ion-button color="dark">เตรียมสินค้า</button>
            </ion-col>

            <ion-col width-33>
              <ion-row *ngIf="orders.order.totalPrice != 0">
                <button block (click)="PaymentPage()">ชำระเงิน</button>
              </ion-row>

              <ion-row *ngIf="orders.order.totalPrice == 0">
                <button block ion-button color="light"><p style="color: #c4c4c4;">ชำระเงิน </p></button>
              </ion-row>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-slides pager [options]="mySlideOptions" style="height:400px; margin-top:-40px;">
              <ion-slide *ngFor="let page of box">
                <ion-row style="height: 100%;padding: 0; flex-wrap: wrap;">
                  <ion-col style="flex: 0 0 48%;  max-width: 48%; text-align: center; padding: 0; margin-left:8px;" *ngFor="let item of page.basket"
                    (click)="chooseProduct(item)">
                    <button block ion-button color="dark">{{item.namePro}} <br> {{item.price}}</button>
                  </ion-col>
                </ion-row>
              </ion-slide>
            </ion-slides>
          </ion-row>

          <ion-row>
            <ion-slides pager [options]="mySlideOptions" style="height:180px; margin-top:-50px;">
              <ion-slide *ngFor="let page of boxcate">
                <ion-row style="height: 100%;padding: 0; flex-wrap: wrap;">
                  <ion-col style="flex: 0 0 30%;  max-width: 30%; text-align: center; padding: 0; margin-left:12px;" *ngFor="let cate of page.fillterCate"
                    (click)="chooseCate(cate)">
                    <button block ion-button color="dark">{{cate}}</button>
                  </ion-col>
                </ion-row>
              </ion-slide>
            </ion-slides>
          </ion-row>

          <ion_row *ngIf="orders.order.totalPrice != 0">
            <button block (click)="ConfirmOr()" ion-button color="danger" style="margin-top:-10px;margin-bottom:-5px;">ยกเลิก</button>
          </ion_row>

          <ion_row *ngIf="orders.order.totalPrice == 0">
            <button block ion-button color="light" style="margin-top:-10px;margin-bottom:-5px;"><p style="color:#c4c4c4;">ยกเลิก</p></button>
          </ion_row>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-content>